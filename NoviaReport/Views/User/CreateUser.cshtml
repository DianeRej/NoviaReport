@model NoviaReport.Models.User
@{
    Layout = null;
}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="/css/StyleCreateUser.css" rel="stylesheet" />
    <title>Ajouter un utilisateur</title>
</head>
<body>

    @using (Html.BeginForm())
    {
        <fieldset>
            <legend>Créer un utilisateur</legend>

            <div class="Corps formulaire">

                <div>
                    <h3>Identité</h3>
                    <div class="groupe">
                        @Html.LabelFor(m => Model.Firstname)
                        @Html.TextBoxFor(m => Model.Firstname, new {@class= "Input" })
                        @Html.ValidationMessageFor(m => Model.Firstname)
                        <i class="fa-solid fa-user"></i>
                    </div>

                    <div class="groupe">
                        @Html.LabelFor(m => Model.Lastname)
                        @Html.TextBoxFor(m => Model.Lastname, new {@class= "Input" })
                        @Html.ValidationMessageFor(m => Model.Lastname)
                        <i class="fa-solid fa-user"></i>
                    </div>
                </div>

                <div>
                    <h3>Créer un login</h3>
                    <div class="groupe">
                        @Html.LabelFor(m => Model.Login)
                        @Html.TextBoxFor(m => Model.Login)
                        @Html.ValidationMessageFor(m => Model.Login)
                        <i class="fa-solid fa-user"></i>

                        @*Pour le moment on ne peut plus modifier le mdp*@
                        @Html.HiddenFor(m => Model.Password)
                    </div>
                </div>
                <div>
                    <h3>Créez un mot de passe</h3>
                    <div class="groupe">

                        @Html.LabelFor(m => Model.Password)
                        @Html.PasswordFor(m => Model.Password)
                        @Html.ValidationMessageFor(m => Model.Password)
                        <i class="fa-solid fa-lock"></i>
                    </div>
                    <h3>Confirmer le mot de passe</h3>
                    <div class="groupe">
                        @Html.LabelFor(m => Model.Password)
                        @Html.PasswordFor(m => Model.Password)
                        @Html.ValidationMessageFor(m => Model.Password)
                        <i class="fa-solid fa-lock"></i>
                    </div>
                </div>
                <div>
                    <h3>Contact</h3>

                    <div class="groupe">
                        @Html.LabelFor(m => Model.Contact.PersonalMail)
                        @Html.TextBoxFor(m => Model.Contact.PersonalMail, new {@class= "Input Mail"})
                        @Html.ValidationMessageFor(m => Model.Contact.PersonalMail)
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <div class="groupe">
                        @Html.LabelFor(m => Model.Contact.PersonalPhone)
                        @Html.TextBoxFor(m => Model.Contact.PersonalPhone, new {@class= "Input Tel"})
                        @Html.ValidationMessageFor(m => Model.Contact.PersonalPhone)
                        <i class="fa-solid fa-phone"></i>
                    </div>

                    <div class="groupe">
                        @Html.LabelFor(m => Model.Contact.ProMail)
                        @Html.TextBoxFor(m => Model.Contact.ProMail,new {@class= "Input Mail"})
                        @Html.ValidationMessageFor(m => Model.Contact.ProMail)
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <div class="groupe">
                        @Html.LabelFor(m => Model.Contact.ProPhone)
                        @Html.TextBoxFor(m => Model.Contact.ProPhone,new {@class= "Input Tel"})
                        @Html.ValidationMessageFor(m => Model.Contact.ProPhone)
                        <i class="fa-solid fa-phone"></i>
                    </div>
                </div>

                <div>
                    <h3>Adresse</h3>
                    <div class="groupe">
                        @Html.LabelFor(m => Model.Contact.Street)
                        @Html.TextBoxFor(m => Model.Contact.Street,new {@class= "Input"})
                        @Html.ValidationMessageFor(m => Model.Contact.Street)
                        <i class="fa-solid fa-road"></i>
                    </div>
                    <div class="groupe">
                        @Html.LabelFor(m => Model.Contact.PostalCode)
                        @Html.TextBoxFor(m => Model.Contact.PostalCode,new {@class= "Input"})
                        @Html.ValidationMessageFor(m => Model.Contact.PostalCode)

                    </div>

                    <div class="groupe">
                        @Html.LabelFor(m => Model.Contact.City)
                        @Html.TextBoxFor(m => Model.Contact.City,new {@class= "Input"})
                        @Html.ValidationMessageFor(m => Model.Contact.City)
                        <i class="fa-sharp fa-solid fa-city"></i>
                    </div>

                </div>

                @*<!-- liste déroulante et check box pour les infos pro et le manager -->*@
                <div>
                    <h3>Rôle de l'employé</h3>
                    @foreach (var item in Enum.GetValues(typeof(NoviaReport.Models.TypeRole)))
                    {
                        <input type="checkbox" class="checkbox" id=@item value=@item name="TypeRoles" />
                        <label id="@item ">@item</label>
                    }

                    <div class="groupe">
                        @Html.LabelFor(m => Model.ProfessionalInfo.Position)
                        <select id="Position" name="ProfessionalInfo.Position" class="choix">
                            <option value="">Position</option>
                            @foreach (var item in Enum.GetValues(typeof(NoviaReport.Models.Position)))
                            {
                                <option value=@item name="Position">@item</option>
                            }
                        </select>
                    </div>

                    <div class="groupe">
                        @Html.LabelFor(m => Model.ProfessionalInfo.Function)
                        <select id="Function" name="ProfessionalInfo.Function" class="choix">
                            <option value="">Function</option>
                            @foreach (var item in Enum.GetValues(typeof(NoviaReport.Models.Function)))
                            {
                                <option value=@item name="Function">@item</option>
                            }
                        </select>
                    </div>

                    <div class="groupe">
                        @Html.LabelFor(m => Model.ProfessionalInfo.DateOfArrival)
                        <input id="ProfessionalInfo.DateOfArrival" type="date" class="choix" />
                    </div>

                    <div class="groupe">
                        @Html.LabelFor(m => Model.ManagerId)
                        <select id="ManagerId" name="ManagerId" class="choix">
                            <option value="">--Choisissez une option--</option>
                            <option value=0 name="Aucun manager" class="choix">Aucun manager</option>
                            @foreach (NoviaReport.Models.User user in ViewData["ManagerList"] as List<NoviaReport.Models.User>)
                            {
                                <option value=@user.Id name="ManagerId">@user.Lastname</option>
                            }
                        </select>
                    </div>
                </div>

            </div>

            <input type="submit" value="Ajouter" />

        </fieldset>
        <button><a href="/dashboard/dashboardadmin">Retour au tableau de bord</a></button>
    }
    @*<script type="text/javascript" src="~/Scripts/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.validate-vsdoc.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.validate.unobtrusive.js"></script>*@
</body>
</html>